{
  "$schema": "https://www.krakend.io/schema/v3.json",
  "version": 3,
  "name": "KrakenD API Gateway (DEVELOPMENT)",
  "port": 8080,
  "timeout": "300s",
  "cache_ttl":  "3s",
  "output_encoding": "json",
  "extra_config": {},
  "plugin":  {
    "pattern": ".so",
    "folder": "/opt/krakend/plugins/"
  },
  "endpoints": [
    {
        "endpoint": "/user/getUserDeatils",
        "method": "GET",
        "input_headers":["*"],
        "input_query_strings": ["*"],
        "backend": [
            {
              "url_pattern": "/user/getUserDeatils",
              "method": "GET",
              "host": [
                "http://users:3000"
              ],
              "extra_config": {
                  "plugin/http-client": {
  "name": "krakend-client-example",
  "krakend-client-example": {
    "path": "https://api-qa.beta.pharmconnect.com"
  }
}

              }
            }
        ]
    },
    {
        "endpoint": "/test-2",
        "method": "GET",
        "input_headers":["*"],
        "input_query_strings": ["*"],
        "backend": [
            {
              "url_pattern": "/__debug/dev",
              "method": "GET",
              "host": [
                "http://localhost:8080"
              ],
              "extra_config": {
                  "plugin/http-client": {
  "name": "krakend-client-example",
  "krakend-client-example": {
    "path": "https://api-qa.beta.pharmconnect.com"
  }
}

              }
            }
        ]
    },
    {
   "endpoint": "/test/profile",
  "input_headers": [
        "Content-Type",
        "ClientId"
      ],
   "backend": [
   {
     "url_pattern": "/__debug",
     "extra_config": {
       "qos/ratelimit/proxy": {
  "max_rate": 0.5,
  "capacity": 1
}
     },
     "host": ["http://localhost:8080"]
   }
   ]
 }
,
{
   "endpoint": "/test/admin",
  "input_headers": [
        "Content-Type",
        "ClientId"
      ],
   "backend": [
   {
     "url_pattern": "/__debug",
     "extra_config": {
       "qos/ratelimit/proxy": {
  "max_rate": 0.5,
  "capacity": 1
},
       "plugin/http-client": {
  "name": "krakend-client-example",
  "krakend-client-example": {
    "path": "https://api-qa.beta.pharmconnect.com"
  }
}

     },
     "host": ["http://localhost:8080"]
   }
   ]
 }


 ]
}
