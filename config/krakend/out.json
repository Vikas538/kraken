{
  "$schema": "https://www.krakend.io/schema/v3.json",
  "version": 3,
  "name": "KrakenD API Gateway (dev)",
  "port": 8080,
  "timeout": "300s",
  "cache_ttl":  "3s",
  "output_encoding": "no-op",
  "extra_config": {
        "router": {
			"return_error_msg": true,
			"health_path": "/hub/kraken/__health"
		  },
		  "security/cors": {
			"exposed_headers": ["Access-Control-Allow-Origin", "Content-Length"],
			"allow_headers": ["Origin", "Authorization", "Content-Type"],
            "allow_origins": [
        "*"
    ],
			"allow_methods": [
				"GET",
				"HEAD",
				"POST",
				"DELETE",
				"OPTIONS",
				"PATCH",
				"PUT"
			  ]
		  },

		 


		  "security/http":{
			"ssl_proxy_headers": {
				"X-Forwarded-Proto": "https"
			  },
			  "host_proxy_headers":[
				"X-Forwarded-Hosts"
			  ], 
			  "frame_deny": true,
			  "referrer_policy": "same-origin",
			"sts_include_subdomains":true,
			"sts_seconds":31536000,
			"content_security_policy":"script-src 'strict-dynamic' 'nonce-rAnd0m123' 'unsafe-inline' http: https:; object-src 'none'; base-uri 'none'; require-trusted-types-for 'script'; report-uri https://csp.example.com;",
			"content_type_nosniff":true,
			"browser_xss_filter":true,
			"is_development": false
		  }

 },
  "plugin":  {
    "pattern": ".so",
    "folder": "/opt/krakend/plugins/"
  },
  "endpoints": [
    
        
         
        
{
            "endpoint":"/hub/claims/batch/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/batch/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/batch/{id}/search",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/batch/{id}/search",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": "product_read,invoice_read"
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": "claim_read,claim_write"
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/details/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/details/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": "claim_read"
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/list/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/list/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": "claim_read"
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/update/bycustomer/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/update/bycustomer/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": "claim_read,claim_write"
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/update/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/update/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": "claim_read,claim_write"
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/webhook/email/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/webhook/email/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": "claim_read,claim_write"
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/download/{id}",
            "method":  "GET",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/download/{id}",
                    "method": "GET",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/download/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/download/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": "claim_read"
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/cumulative/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/cumulative/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/ticket/resolve/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/ticket/resolve/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": "order_read,order_write"
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/outbound/{id}",
            "method":  "GET",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/outbound/{id}",
                    "method": "GET",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": "order_read,order_write"
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/return-orders/upload/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/return-orders/upload/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/ping",
            "method":  "GET",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/ping",
                    "method": "GET",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/credit-notes",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/credit-notes",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/claims/health",
            "method":  "GET",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/claims/health",
                    "method": "GET",
                    "host": ["http://192.168.1.10:3007"]
                    
                }
            ]
    }

    ,
    
        
         
        
{
            "endpoint":"/hub/communication-v2/api/channels/{id}",
            "method":  "GET",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/channels/{id}",
                    "method": "GET",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/communication-v2/api/channel/member",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/channel/member",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/communication-v2/api/channels/{id}",
            "method":  "DELETE",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/channels/{id}",
                    "method": "DELETE",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/communication-v2/api/folder/{id}",
            "method":  "GET",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/folder/{id}",
                    "method": "GET",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/communication-v2/api/folder/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/folder/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/communication-v2/api/folder/{id}",
            "method":  "DELETE",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/folder/{id}",
                    "method": "DELETE",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/communication-v2/api/channels/move/{id}",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/channels/move/{id}",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/communication-v2/api/channels",
            "method":  "POST",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/channels",
                    "method": "POST",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/communication-v2/api/channel/member",
            "method":  "GET",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/channel/member",
                    "method": "GET",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/communication-v2/ping",
            "method":  "GET",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/ping",
                    "method": "GET",
                    "host": ["http://192.168.1.10:3007"]
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/communication-v2/api/channels/app/communication/{id}",
            "method":  "GET",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/channels/app/communication/{id}",
                    "method": "GET",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
        
         
        
{
            "endpoint":"/hub/communication-v2/api/channels/leave",
            "method":  "GET",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/communication-v2/api/channels/leave",
                    "method": "GET",
                    "host": ["http://192.168.1.10:3007"]
                    
                    ,"extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                }
              }
                    }
                    
                }
            ]
    }

    ,
    
        
         
        
{
            "endpoint":"/user/health",
            "method":  "GET",
            "input_headers":["*"],
            "input_query_strings": ["*"],
            "backend": [
                {
                    "url_pattern": "/user/health",
                    "method": "GET",
                    "host": ["http://192.168.1.10:3007"]
                    
                }
            ]
    }

    
    
         
        ,{
   "endpoint": "/hub/getServerToken",
   "method":  "GET",
   "input_headers":["*"],
    "input_query_strings": ["*"],
   "backend": [
   {
     "url_pattern": "/getServerToken",
     "host": ["https://api-dev.beta.pharmconnect.com"],
     "extra_config": {
                         
                                      "plugin/http-client": {
                "name": "auth-plugin",
                "auth-plugin": {
                  "host": "https://api-dev.beta.pharmconnect.com",  
                  "serverSecretName": "pharmconnect-dev-server-jwt-config",
                  "jwtSecretName":"pharmconnect-dev-jwtConstants",
                  "permissions": ""
                    
                       ,"isGetToken":true
                    
                }
              }
                    }
   }
   ]
 }
    

]
}
